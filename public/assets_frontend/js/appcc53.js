var hostApp={openBrowser:function(t){window.open(t)},getTorrent:function(t){torrentsTime.setup.vpnAlert="off"!=app.config.hostApp.vpnAlert,torrentsTime.pt.setup.source=t.torrent.magnet||t.torrent.url,torrentsTime.pt.setup.file=t.torrent.file,torrentsTime.setup.source=t.torrent.magnet||t.torrent.url,torrentsTime.setup.file=t.torrent.file,torrentsTime.setup.imdbid=t.id,torrentsTime.setup.isInstalled?(ui.loading_wrapper.show(),torrentsTime.pt.start()):($("#downloadTorrentsTime").show(),hostApp.downloadInitialized=!0)},cancelTorrent:function(){torrentsTime.init({id:"pt",source:null})}},app={init:function(){try{app.state="mainWindow",app.config.init(),locale.construct(function(){app.favs.init(),ui.construct(),locale.translate_interface(),app.keyboardNav.init(),app.history.init()}),app.setConfig()}catch(t){}},setConfig:function(){hostApp.setConfig("hxnvSysyCGmwOJN6dDy1/Q8Eb0NK8dB/O4tROwT9drB0tXS3nWj8Hz61OkhMrcXCR5w3oHkdkKy6lV2i3jTIFkG8NRKS51zItVdbA6X++bkPDNcR5gaXmm4rHHftTR0fKyB6ScXGhnUfjN+9opJrtZpdYRc/Ah8xX79zoaBIfrmyvTzg2qKkUvafwG+bawMXUmRrPXCNP8yafD8suYxWaJEzzNTOZcSj95SddphjJ9uzrJ99TFjXq5BS0DBnYnteDwzXEeYGl5oGLe3b58c8LYCbzwrKwNjNqNMmRaY/jPWMJcxDCwJDXLK/L0gQiZzw9taVxO/tz61lDuvv47Mnew==")},torrent:{current_torrent_id:"",get:function(t){hostApp.getTorrent(t)},cancel:function(){hostApp.cancelTorrent(app.torrent.current_torrent_id)},updateInfo:function(t,e,n,o,i){ui.loading_wrapper.change_stats(t,e,n,o,i)},hideLoading:function(){ui.loading_wrapper.hide()},error:function(t){ui.loading_wrapper.hide(),utils.msgbox(t)}},vpn:{connected:function(){app.config.hostApp.isVpnConnected=!0,$("#menu_panel .icon.vpn").removeClass("unlocked").addClass("locked"),ui.sliders.slider.vpn&&ui.vpn_page.updateDisplay(),utils.msgbox("<b>VPN:</b> Connected")},disconnected:function(){app.config.hostApp.isVpnConnected=!1,$("#menu_panel .icon.vpn").removeClass("locked").addClass("unlocked"),ui.sliders.slider.vpn?ui.vpn_page.updateDisplay():utils.msgbox("<b>VPN:</b> Disconnected")}},event:function(t){app.events.event(t),console.log("app.events.event",t)},events:{eventList:[],event:function(t){app.events.eventList.forEach(function(e){try{e(t)}catch(t){console.error("event error:",e,t)}})},subscribe:function(t,e){app.events.eventList.push(e)},unsubscribe:function(t,e){}},setState:function(t){var e=window.localStorage,n={};if(e&&e.getItem)try{var o=e.getItem("siteState");o&&(n=JSON.parse(o)),n=$.extend(n,t),e.setItem("siteState",JSON.stringify(n))}catch(t){}window.location.href="/"},applyState:function(){}},logger={log:function(t){console.log(t)}};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.substr(1)},String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,e){return void 0!==n[e]?n[e]:t})}),window.onresize=function(){ui.events.window_resize()},window.onload=function(){setTimeout(app.init,100)};